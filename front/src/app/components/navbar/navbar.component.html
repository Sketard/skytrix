<nav class="navbar-sidebar" [class.collapsed]="collapsed()" role="navigation" aria-label="Main navigation">
  <div class="navbar-inner">
    @if (!collapsed()) {
      <div class="navbar-content">
        <img class="logo" src="/assets/images/logo.webp" alt="logo" />
        @for (tab of tabs; track tab.path) {
          <a [routerLink]="tab.path" routerLinkActive="active" class="nav-link">
            <mat-icon [fontIcon]="tab.icon"></mat-icon>
            <span class="nav-label">{{ tab.name }}</span>
          </a>
        }
        <div class="spacer"></div>
        <div class="user-section">
          <span class="user-pseudo">{{ user()?.pseudo }}</span>
          <button mat-flat-button (click)="logout()">Se d√©connecter</button>
        </div>
      </div>
    }
  </div>

  <button class="collapse-toggle"
          (click)="toggle()"
          [attr.aria-label]="collapsed() ? 'Expand navigation' : 'Collapse navigation'"
          [attr.aria-expanded]="!collapsed()">
    <mat-icon>{{ collapsed() ? 'chevron_right' : 'chevron_left' }}</mat-icon>
  </button>
</nav>
